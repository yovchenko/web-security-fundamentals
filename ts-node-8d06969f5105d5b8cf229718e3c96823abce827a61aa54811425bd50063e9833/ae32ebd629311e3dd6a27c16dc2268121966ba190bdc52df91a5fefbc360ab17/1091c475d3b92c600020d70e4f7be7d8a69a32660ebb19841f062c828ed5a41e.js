"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var database_1 = require("./database");
var database_data_1 = require("./database-data");
var argon2 = require("argon2");
function createUser(req, res) {
    var credentials = req.body;
    argon2.hash(credentials.password)
        .then(function (passwordDigest) {
        var user = database_1.db.createUser(credentials.email, passwordDigest);
        console.log(database_data_1.USERS);
        res.status(200).json({ id: user.id, email: user.email });
    });
}
exports.createUser = createUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUveW92Y2hlbmtvL1Byb2plY3RzL2FuZ3VsYXItc2VjdXJpdHktY291cnNlL3NlcnZlci9jcmVhdGUtdXNlci5yb3V0ZS50cyIsInNvdXJjZXMiOlsiL2hvbWUveW92Y2hlbmtvL1Byb2plY3RzL2FuZ3VsYXItc2VjdXJpdHktY291cnNlL3NlcnZlci9jcmVhdGUtdXNlci5yb3V0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHVDQUE4QjtBQUM5QixpREFBc0M7QUFDdEMsK0JBQWlDO0FBR2pDLFNBQWdCLFVBQVUsQ0FBQyxHQUFZLEVBQUUsR0FBWTtJQUVqRCxJQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO0lBRTdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQztTQUM1QixJQUFJLENBQUMsVUFBQSxjQUFjO1FBQ2hCLElBQU0sSUFBSSxHQUFHLGFBQUUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztRQUU5RCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFLLENBQUMsQ0FBQztRQUVuQixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLEVBQUUsRUFBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBQyxJQUFJLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztBQUNYLENBQUM7QUFaRCxnQ0FZQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVxdWVzdCwgUmVzcG9uc2V9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQge2RifSBmcm9tIFwiLi9kYXRhYmFzZVwiO1xuaW1wb3J0IHtVU0VSU30gZnJvbSBcIi4vZGF0YWJhc2UtZGF0YVwiO1xuaW1wb3J0ICogYXMgYXJnb24yIGZyb20gJ2FyZ29uMic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVzZXIocmVxOiBSZXF1ZXN0LCByZXM6UmVzcG9uc2UpIHtcblxuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gcmVxLmJvZHk7XG5cbiAgICBhcmdvbjIuaGFzaChjcmVkZW50aWFscy5wYXNzd29yZClcbiAgICAgICAgLnRoZW4ocGFzc3dvcmREaWdlc3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGRiLmNyZWF0ZVVzZXIoY3JlZGVudGlhbHMuZW1haWwsIHBhc3N3b3JkRGlnZXN0KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coVVNFUlMpO1xuICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtpZDp1c2VyLmlkLCBlbWFpbDp1c2VyLmVtYWlsfSk7XG4gICAgICAgIH0pO1xufVxuIl19